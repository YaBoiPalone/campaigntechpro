// MULTILINGUAL TRANSLATION DATA
const translations = {
  en: {
    nav: {
      home: 'Home',
      services: 'Services',
      pricing: 'Pricing',
      contact: 'Contact'
    },
    hero: {
      subtitle: 'Digital Campaign Management & Political Data Intelligence',
      tagline: 'Empowering Indian Democracy Through Data & Technology',
      cta: 'View Our Services'
    },
    about: {
      title: 'About Us',
      description: 'Campaign Tech Pro is India\'s leading political technology consultancy, specializing in election campaigns across 970 million eligible voters and 543 constituencies. We\'ve powered successful campaigns in Maharashtra, Bihar, and Delhi using advanced data analytics, GIS mapping, and social media strategies proven in the 2024 Lok Sabha elections. Our mission is to empower Indian democracy through data-driven technology and transparent campaign management.',
      highlight1: 'Eligible Voters (2024 Elections)',
      highlight2: 'Constituencies Analyzed',
      highlight3: 'National Voter Turnout 2024'
    },
    services: {
      title: 'Your Journey to Electoral Victory',
      subtitle: 'Discover how data-driven technology transforms campaigns into compelling stories that connect with millions of voters.',
      social: {
        title: 'The Digital Domination Strategy',
        description: 'Transform your digital campaign with unified multi-platform management. BJP ran 41,127 Meta ads vs Congress\'s 1,041 - the difference lies in systematic digital dominance.',
        insight: 'followers - Modi\'s social media dominance',
        coverage_title: 'Complete Coverage:',
        feature1: '5 Instagram + 5 Facebook + 1 YouTube account management',
        feature2: '3 unique reels every 6 days across all platforms',
        feature3: 'Zero content duplication penalties',
        feature4: 'Professional scheduling and management system',
        metric1: 'Indians Reached',
        metric2: 'Accounts Managed',
        package: 'Complete Digital Domination Package'
      },
      yaadi: {
        title: 'From Paper Lists to Predictive Intelligence',
        description: 'Transform traditional voter lists into intelligent campaign tools. With 970M voters across 543 constituencies, data intelligence separates winners from losers.',
        insight: 'voters analyzed across 543 constituencies'
      },
      victory: {
        title: 'When AI Becomes Your Campaign Manager',
        description: 'Deploy AI-powered campaign intelligence that predicts voter behavior and optimizes outreach. BJP\'s 96% micro-targeted ads vs Congress\'s 32% shows the power of data-driven campaigning.',
        insight: 'accuracy in swing constituency prediction'
      },
      qr: {
        title: 'The Future of Voter Engagement',
        description: 'Revolutionary AR campaigning that transforms voter engagement. Traditional pamphlets achieve 12% engagement while AR QR campaigns reach 34% engagement with 73% social sharing.',
        insight: 'engagement vs 12% traditional methods'
      },
      ads: {
        title: 'Precision Targeting, Maximum Impact',
        description: 'Strategic digital advertising that maximizes every rupee. Bihar 2025: ₹4.81 crore spent in 30 days. Delhi 2025: ₹7.62 crore on 6,096 ads in 3 weeks. Precision targeting delivers 31-64% higher conversion rates.',
        insight: 'spent in 30 days - Bihar 2025'
      }
    },
    pricing: {
      title: 'Service Packages',
      contact_quote: 'Contact for Quote',
      social: {
        title: 'Social Media Bulk Upload',
        note: 'Without/With Editor'
      },
      yaadi: {
        title: 'Yaadi Sorter Model',
        note: 'Base package'
      },
      victory: {
        title: 'Data Meets Victory',
        note: 'Complete package'
      },
      qr: {
        title: 'QR Scanned AR Model',
        note: 'AR experience package'
      },
      ads: {
        title: 'Ads Spend Package',
        note: 'Campaign budget'
      },
      disclaimer: 'All pricing exclusive of applicable taxes. Content, creatives, and timelines customizable per client needs. Custom integrations available (survey dashboards, analytics, voter portals). Delivery timeline and payment schedule finalized before confirmation. Quotation valid for 30 days from issue date.'
    },
    offerings: {
      title: 'Additional Offerings',
      item1: 'Custom survey dashboards and analytics',
      item2: 'Real-time campaign performance tracking',
      item3: 'Multi-language voter content creation',
      item4: 'Cross-platform ad analytics integration'
    },
    contact: {
      title: 'Contact Us',
      tagline: 'Empowering Indian Democracy Through Data & Technology',
      compliance: 'ECI-compliant campaign management and transparency',
      form: {
        name: 'Name',
        email: 'Email',
        phone: 'Phone',
        service: 'Service Interest',
        message: 'Message',
        select_service: 'Select a service',
        service_social: 'Social Media Bulk Upload Model',
        service_yaadi: 'Yaadi Sorter Model',
        service_victory: 'Data Meets Victory',
        service_qr: 'QR Scanned AR Model',
        service_ads: 'Ads Spend Package',
        service_custom: 'Custom Solution',
        message_placeholder: 'Tell us about your campaign needs...',
        submit: 'Send Inquiry'
      },
      thank_you: 'Thank you for reaching out!'
    },
    footer: {
      copyright: '© 2025 Campaign Tech Pro. All rights reserved.',
      tagline: 'Empowering Indian Democracy Through Data & Technology',
      specialization: 'Specialized in Indian Assembly and Lok Sabha Election Campaigns'
    },
    common: {
      read_story: 'Read Full Story'
    },
    accessibility: {
      language_switcher: 'Change language'
    }
  },
  mr: {
    nav: {
      home: 'मुख्यपृष्ठ',
      services: 'सेवा',
      pricing: 'किंमत',
      contact: 'संपर्क'
    },
    hero: {
      subtitle: 'डिजिटल मोहीम व्यवस्थापन आणि राजकीय डेटा बुद्धिमत्ता',
      tagline: 'डेटा आणि तंत्रज्ञानाच्या माध्यमातून भारतीय लोकशाहीला सामर्थ्यवान बनवणे',
      cta: 'आमच्या सेवा पहा'
    },
    about: {
      title: 'आमच्या विषयी',
      description: 'कॅम्पेन टेक प्रो ही भारताची अग्रगण्य राजकीय तंत्रज्ञान सल्लागार कंपनी आहे, जी 970 दशलक्ष पात्र मतदार आणि 543 मतदारसंघांमध्ये निवडणूक मोहिमांमध्ये विशेषज्ञता ठेवते. आम्ही महाराष्ट्र, बिहार आणि दिल्लीमध्ये प्रगत डेटा विश्लेषण, GIS मॅपिंग आणि सोशल मीडिया रणनीती वापरून यशस्वी मोहिमा चालवल्या आहेत जे 2024 लोकसभा निवडणुकीत सिद्ध झाल्या आहेत.',
      highlight1: 'पात्र मतदार (2024 निवडणुका)',
      highlight2: 'विश्लेषित मतदारसंघ',
      highlight3: 'राष्ट्रीय मतदान टक्केवारी 2024'
    },
    services: {
      title: 'निवडणुकीच्या विजयासाठी तुमचा प्रवास',
      subtitle: 'डेटा-चालित तंत्रज्ञान कसे मोहिमांना आकर्षक कथांमध्ये बदलते जे लाखो मतदारांशी जोडते ते जाणून घ्या.',
      social: {
        title: 'डिजिटल वर्चस्व रणनीती',
        description: 'एकात्मिक मल्टी-प्लॅटफॉर्म व्यवस्थापनासह तुमची डिजिटल मोहीम रूपांतरित करा. BJP ने 41,127 Meta जाहिराती चालवल्या विरुद्ध कॉंग्रेसच्या 1,041 - फरक हा पद्धतशीर डिजिटल वर्चस्वात आहे.',
        insight: 'अनुयायी - मोदींचे सोशल मीडिया वर्चस्व',
        coverage_title: 'संपूर्ण कव्हरेज:',
        feature1: '5 Instagram + 5 Facebook + 1 YouTube खाते व्यवस्थापन',
        feature2: 'सर्व प्लॅटफॉर्मवर दर 6 दिवसांनी 3 अनन्य रीलची',
        feature3: 'शून्य सामग्री डुप्लिकेशन दंड',
        feature4: 'व्यावसायिक शेड्यूलिंग आणि व्यवस्थापन प्रणाली',
        metric1: 'भारतीयांपर्यंत पोहोचलो',
        metric2: 'व्यवस्थापित खाती',
        package: 'संपूर्ण डिजिटल वर्चस्व पॅकेज'
      },
      yaadi: {
        title: 'कागदी यादीपासून भविष्यसूचक बुद्धिमत्तेपर्यंत',
        description: 'पारंपरिक मतदार यादीला बुद्धिमान मोहीम साधनांमध्ये रूपांतरित करा. 543 मतदारसंघांमध्ये 970 दशलक्ष मतदारांसह, डेटा बुद्धिमत्ता विजेते आणि पराभूत यांच्यात फरक करते.',
        insight: '543 मतदारसंघांमध्ये विश्लेषित मतदार'
      },
      victory: {
        title: 'जेव्हा AI तुमचा मोहीम व्यवस्थापक बनतो',
        description: 'AI-शक्तीचालित मोहीम बुद्धिमत्ता तैनात करा जी मतदार वर्तन अंदाजे करते आणि पोहोचण्याची क्षमता अनुकूलित करते. BJP च्या 96% सूक्ष्म-लक्षित जाहिराती विरुद्ध कॉंग्रेसच्या 32% डेटा-चालित मोहिमेची शक्ती दर्शवते.',
        insight: 'स्विंग मतदारसंघ अंदाजामध्ये अचूकता'
      },
      qr: {
        title: 'मतदार सहभागाचे भविष्य',
        description: 'क्रांतिकारी AR मोहीम जी मतदार सहभाग रूपांतरित करते. पारंपरिक पॅम्फलेट 12% सहभाग मिळवतात तर AR QR मोहिमा 73% सामाजिक शेअरिंगसह 34% सहभाग गाठतात.',
        insight: 'पारंपरिक पद्धतींविरुद्ध 12% सहभाग'
      },
      ads: {
        title: 'अचूक लक्ष्यीकरण, जास्तीत जास्त प्रभाव',
        description: 'धोरणात्मक डिजिटल जाहिरात जी प्रत्येक रुपयाची जास्तीत जास्त गुणवत्ता करते. बिहार 2025: 30 दिवसांत ₹4.81 कोटी खर्च. दिल्ली 2025: 3 आठवड्यांत 6,096 जाहिराती ₹7.62 कोटी. अचूक लक्ष्यीकरण 31-64% अधिक रूपांतरण दर देते.',
        insight: '30 दिवसांत खर्च - बिहार 2025'
      }
    },
    pricing: {
      title: 'सेवा पॅकेजेस',
      contact_quote: 'कोट साठी संपर्क करा',
      social: {
        title: 'सोशल मीडिया बल्क अपलोड',
        note: 'संपादकाशिवाय/सह'
      },
      yaadi: {
        title: 'यादी क्रमवारी मॉडेल',
        note: 'मूळ पॅकेज'
      },
      victory: {
        title: 'डेटा मीट्स व्हिक्टरी',
        note: 'संपूर्ण पॅकेज'
      },
      qr: {
        title: 'QR स्कॅन AR मॉडेल',
        note: 'AR अनुभव पॅकेज'
      },
      ads: {
        title: 'जाहिरात खर्च पॅकेज',
        note: 'मोहीम बजेट'
      },
      disclaimer: 'सर्व किंमती लागू करांच्या वगळून. सामग्री, क्रिएटिव्ह आणि वेळसारणी ग्राहकाच्या गरजेनुसार सानुकूलित करण्यायोग्य. कस्टम इंटिग्रेशन उपलब्ध (सर्वेक्षण डॅशबोर्ड, विश्लेषण, मतदार पोर्टल). पुष्टी करण्यापूर्वी वितरण वेळसारणी आणि पेमेंट शेड्यूल अंतिम केले जाते. कोटेशन जारी केल्याच्या तारखेपासून 30 दिवसांसाठी वैध.'
    },
    offerings: {
      title: 'अतिरिक्त ऑफरिंग्स',
      item1: 'कस्टम सर्वेक्षण डॅशबोर्ड आणि विश्लेषण',
      item2: 'रिअल-टाइम मोहीम कार्यप्रदर्शन ट्रॅकिंग',
      item3: 'बहु-भाषिक मतदार सामग्री निर्मिती',
      item4: 'क्रॉस-प्लॅटफॉर्म जाहिरात विश्लेषण एकीकरण'
    },
    contact: {
      title: 'आमच्याशी संपर्क साधा',
      tagline: 'डेटा आणि तंत्रज्ञानाच्या माध्यमातून भारतीय लोकशाहीला सामर्थ्यवान बनवणे',
      compliance: 'ECI-अनुपालन मोहीम व्यवस्थापन आणि पारदर्शकता',
      form: {
        name: 'नाव',
        email: 'ईमेल',
        phone: 'फोन',
        service: 'सेवा स्वारस्य',
        message: 'संदेश',
        select_service: 'एक सेवा निवडा',
        service_social: 'सोशल मीडिया बल्क अपलोड मॉडेल',
        service_yaadi: 'यादी क्रमवारी मॉडेल',
        service_victory: 'डेटा मीट्स व्हिक्टरी',
        service_qr: 'QR स्कॅन AR मॉडेल',
        service_ads: 'जाहिरात खर्च पॅकेज',
        service_custom: 'कस्टम समाधान',
        message_placeholder: 'आपल्या मोहिमेच्या गरजांबद्दल आम्हाला सांगा...',
        submit: 'चौकशी पाठवा'
      },
      thank_you: 'आमच्याशी संपर्क साधल्याबद्दल धन्यवाद!'
    },
    footer: {
      copyright: '© 2025 Campaign Tech Pro. सर्व हक्क राखीव.',
      tagline: 'डेटा आणि तंत्रज्ञानाच्या माध्यमातून भारतीय लोकशाहीला सामर्थ्यवान बनवणे',
      specialization: 'भारतीय विधानसभा आणि लोकसभा निवडणूक मोहिमांमध्ये विशेषज्ञता'
    },
    common: {
      read_story: 'संपूर्ण कथा वाचा'
    },
    accessibility: {
      language_switcher: 'भाषा बदला'
    }
  },
  hi: {
    nav: {
      home: 'होम',
      services: 'सेवाएँ',
      pricing: 'मूल्य निर्धारण',
      contact: 'संपर्क करें'
    },
    hero: {
      subtitle: 'डिजिटल अभियान प्रबंधन और राजनीतिक डेटा बुद्धिमत्ता',
      tagline: 'डेटा और टेक्नोलॉजी के माध्यम से भारतीय लोकतंत्र को सशक्त बनाना',
      cta: 'हमारी सेवाएँ देखें'
    },
    about: {
      title: 'हमारे बारे में',
      description: 'कैम्पेन टेक प्रो भारत की अग्रणी राजनीतिक प्रौद्योगिकी सलाहकार कंपनी है, जो 970 मिलियन योग्य मतदाताओं और 543 निर्वाचन क्षेत्रों में चुनावी अभियानों में विशेषज्ञता रखती है। हमने महाराष्ट्र, बिहार और दिल्ली में उन्नत डेटा एनालिटिक्स, GIS मैपिंग और सोशल मीडिया रणनीतियों का उपयोग करके सफल अभियान चलाए हैं जो 2024 लोकसभा चुनावों में सिद्ध हुई हैं।',
      highlight1: 'योग्य मतदाता (2024 चुनाव)',
      highlight2: 'विश्लेषित निर्वाचन क्षेत्र',
      highlight3: 'राष्ट्रीय मतदान प्रतिशत 2024'
    },
    services: {
      title: 'चुनावी जीत के लिए आपकी यात्रा',
      subtitle: 'जानें कि कैसे डेटा-चालित प्रौद्योगिकी अभियानों को सम्मोहक कहानियों में बदल देती है जो लाखों मतदाताओं से जुड़ती है।',
      social: {
        title: 'डिजिटल प्रभुत्व रणनीति',
        description: 'एकीकृत मल्टी-प्लेटफॉर्म प्रबंधन के साथ अपने डिजिटल अभियान को रूपांतरित करें। BJP ने 41,127 Meta विज्ञापन चलाए बनाम कांग्रेस के 1,041 - अंतर व्यवस्थित डिजिटल प्रभुत्व में निहित है।',
        insight: 'अनुयायी - मोदी का सोशल मीडिया प्रभुत्व',
        coverage_title: 'पूर्ण कवरेज:',
        feature1: '5 Instagram + 5 Facebook + 1 YouTube खाता प्रबंधन',
        feature2: 'सभी प्लेटफार्मों पर हर 6 दिन में 3 अनोखे रील्स',
        feature3: 'शून्य सामग्री दोहराव दंड',
        feature4: 'पेशेवर शेड्यूलिंग और प्रबंधन सिस्टम',
        metric1: 'भारतीयों तक पहुंच',
        metric2: 'प्रबंधित खाते',
        package: 'पूर्ण डिजिटल प्रभुत्व पैकेज'
      },
      yaadi: {
        title: 'कागजी सूचियों से भविष्यसूचक बुद्धिमत्ता तक',
        description: 'पारंपरिक मतदाता सूचियों को बुद्धिमान अभियान उपकरणों में बदलें। 543 निर्वाचन क्षेत्रों में 970 मिलियन मतदाताओं के साथ, डेटा बुद्धिमत्ता विजेताओं को हारने वालों से अलग करती है।',
        insight: '543 निर्वाचन क्षेत्रों में विश्लेषित मतदाता'
      },
      victory: {
        title: 'जब AI आपका अभियान प्रबंधक बन जाती है',
        description: 'AI-संचालित अभियान बुद्धिमत्ता तैनात करें जो मतदाता व्यवहार की भविष्यवाणी करती है और आउटरीच को अनुकूलित करती है। BJP के 96% सूक्ष्म-लक्षित विज्ञापन बनाम कांग्रेस के 32% डेटा-चालित अभियान की शक्ति दिखाते हैं।',
        insight: 'स्विंग निर्वाचन क्षेत्र भविष्यवाणी में सटीकता'
      },
      qr: {
        title: 'मतदाता सहभागिता का भविष्य',
        description: 'क्रांतिकारी AR अभियान जो मतदाता सहभागिता को बदल देता है। पारंपरिक पैम्फलेट 12% सहभागिता प्राप्त करते हैं जबकि AR QR अभियान 73% सामाजिक साझाकरण के साथ 34% सहभागिता तक पहुंचते हैं।',
        insight: 'पारंपरिक तरीकों के विपरीत 12% सहभागिता'
      },
      ads: {
        title: 'सटीक लक्ष्यीकरण, अधिकतम प्रभाव',
        description: 'रणनीतिक डिजिटल विज्ञापन जो हर रुपये को अधिकतम बनाता है। बिहार 2025: 30 दिनों में ₹4.81 करोड़ खर्च। दिल्ली 2025: 3 सप्ताह में 6,096 विज्ञापनों पर ₹7.62 करोड़। सटीक लक्ष्यीकरण 31-64% अधिक रूपांतरण दर प्रदान करता है।',
        insight: '30 दिनों में खर्च - बिहार 2025'
      }
    },
    pricing: {
      title: 'सेवा पैकेज',
      contact_quote: 'कोटेशन के लिए संपर्क करें',
      social: {
        title: 'सोशल मीडिया बल्क अपलोड',
        note: 'संपादक के बिना/के साथ'
      },
      yaadi: {
        title: 'यादी सॉर्टर मॉडल',
        note: 'आधार पैकेज'
      },
      victory: {
        title: 'डेटा मीट्स विक्टरी',
        note: 'पूर्ण पैकेज'
      },
      qr: {
        title: 'QR स्कैन AR मॉडल',
        note: 'AR अनुभव पैकेज'
      },
      ads: {
        title: 'विज्ञापन खर्च पैकेज',
        note: 'अभियान बजट'
      },
      disclaimer: 'सभी मूल्य निर्धारण लागू करों के अलावा। सामग्री, रचनात्मक और समयसीमा ग्राहक की आवश्यकताओं के अनुसार अनुकूलन योग्य। कस्टम एकीकरण उपलब्ध (सर्वेक्षण डैशबोर्ड, एनालिटिक्स, मतदाता पोर्टल)। पुष्टि से पहले डिलीवरी टाइमलाइन और भुगतान अनुसूची को अंतिम रूप दिया जाता है। कोटेशन जारी करने की तारीख से 30 दिनों के लिए वैध।'
    },
    offerings: {
      title: 'अतिरिक्त प्रस्ताव',
      item1: 'कस्टम सर्वेक्षण डैशबोर्ड और एनालिटिक्स',
      item2: 'रियल-टाइम अभियान प्रदर्शन ट्रैकिंग',
      item3: 'बहु-भाषी मतदाता सामग्री निर्माण',
      item4: 'क्रॉस-प्लेटफॉर्म विज्ञापन एनालिटिक्स एकीकरण'
    },
    contact: {
      title: 'हमसे संपर्क करें',
      tagline: 'डेटा और टेक्नोलॉजी के माध्यम से भारतीय लोकतंत्र को सशक्त बनाना',
      compliance: 'ECI-अनुपालित अभियान प्रबंधन और पारदर्शिता',
      form: {
        name: 'नाम',
        email: 'ईमेल',
        phone: 'फोन',
        service: 'सेवा रुचि',
        message: 'संदेश',
        select_service: 'एक सेवा चुनें',
        service_social: 'सोशल मीडिया बल्क अपलोड मॉडल',
        service_yaadi: 'यादी सॉर्टर मॉडल',
        service_victory: 'डेटा मीट्स विक्टरी',
        service_qr: 'QR स्कैन AR मॉडल',
        service_ads: 'विज्ञापन खर्च पैकेज',
        service_custom: 'कस्टम समाधान',
        message_placeholder: 'हमें अपनी अभियान आवश्यकताओं के बारे में बताएं...',
        submit: 'पूछताछ भेजें'
      },
      thank_you: 'संपर्क करने के लिए धन्यवाद!'
    },
    footer: {
      copyright: '© 2025 Campaign Tech Pro. सभी अधिकार सुरक्षित।',
      tagline: 'डेटा और टेक्नोलॉजी के माध्यम से भारतीय लोकतंत्र को सशक्त बनाना',
      specialization: 'भारतीय विधानसभा और लोकसभा चुनावी अभियानों में विशेषज्ञता'
    },
    common: {
      read_story: 'पूरी कहानी पढ़ें'
    },
    accessibility: {
      language_switcher: 'भाषा बदलें'
    }
  }
};

// LANGUAGE STATE MANAGEMENT
let currentLanguage = 'en';

// Mobile Navigation Toggle
const navToggle = document.getElementById('nav-toggle');
const navMenu = document.getElementById('nav-menu');
const navLinks = document.querySelectorAll('.nav__link');

navToggle.addEventListener('click', () => {
    navMenu.classList.toggle('active');
    navToggle.classList.toggle('active');
});

// Add simple CSS for better accessibility and smooth transitions
const style = document.createElement('style');
style.textContent = `
    /* Focus states for better accessibility */
    .service__card:focus-within {
        outline: 3px solid rgba(249, 115, 22, 0.6);
        outline-offset: 4px;
    }
    
    /* Smooth transitions for service cards */
    .service__card {
        transition: all 0.3s ease;
    }
    
    /* Simple fade-in animation */
    .fade-in {
        animation: fadeIn 0.5s ease;
    }
`;
document.head.appendChild(style);

// Close mobile menu when clicking on a link
navLinks.forEach(link => {
    link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
    });
});

// Header scroll effect
const header = document.getElementById('header');
window.addEventListener('scroll', () => {
    if (window.scrollY > 100) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
});

// Simple contact button handling
const setupContactButtons = () => {
    // Handle contact buttons
    document.querySelectorAll('[data-contact]').forEach(button => {
        button.addEventListener('click', (e) => {
            const service = e.target.getAttribute('data-contact');
            scrollToContactSection(service);
        });
    });
};

const scrollToContactSection = (service) => {
    const contactSection = document.getElementById('contact');
    if (contactSection) {
        // Pre-fill service selection if form exists
        const serviceSelect = document.getElementById('service');
        if (serviceSelect) {
            const serviceMap = {
                'social': 'social-media',
                'yaadi': 'yaadi-sorter', 
                'victory': 'data-victory',
                'qr': 'qr-ar',
                'ads': 'ads-spend'
            };
            serviceSelect.value = serviceMap[service] || '';
        }

        // Smooth scroll to contact
        const headerHeight = document.querySelector('.header').offsetHeight;
        const targetPosition = contactSection.offsetTop - headerHeight;
        
        window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
        });

        // Add visual highlight to contact form
        const contactForm = document.querySelector('.contact__form');
        if (contactForm) {
            contactForm.style.transform = 'scale(1.01)';
            contactForm.style.transition = 'transform 0.3s ease';
            
            setTimeout(() => {
                contactForm.style.transform = 'scale(1)';
            }, 1000);
        }
    }
};

// Initialize contact functionality
setupContactButtons();

// Contact form handling
const contactForm = document.getElementById('contact-form');

contactForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    // Get form data
    const formData = new FormData(contactForm);
    const name = formData.get('name').trim();
    const email = formData.get('email').trim();
    const phone = formData.get('phone').trim();
    const service = formData.get('service');
    const message = formData.get('message').trim();
    
    // Basic form validation
    if (!name || !email || !phone) {
        alert('Please fill in all required fields (Name, Email, Phone).');
        return;
    }
    
    // Email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        alert('Please enter a valid email address.');
        return;
    }
    
    // Phone validation (basic)
    const phoneRegex = /^[\d\s\-\+\(\)]+$/;
    if (!phoneRegex.test(phone)) {
        alert('Please enter a valid phone number.');
        return;
    }
    
    // Success message
    alert(`Thank you ${name}! We have received your inquiry about ${service || 'our services'}. Please contact us directly at +91 9892070544 or anujtheofficial@gmail.com for the fastest response.`);
    
    // Reset form
    contactForm.reset();
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetSection = document.querySelector(targetId);
        
        if (targetSection) {
            const headerHeight = document.querySelector('.header').offsetHeight;
            const targetPosition = targetSection.offsetTop - headerHeight;
            
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
        }
    });
});

// Simple scroll animations with improved performance
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

// Service card entrance animations
const cardObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
            entry.target.classList.add('fade-in');
        }
    });
}, observerOptions);

// Initialize service card animations
document.querySelectorAll('.service__card').forEach((card, index) => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(30px)';
    card.style.transition = 'all 0.5s ease';
    // Stagger the animation slightly for each card
    card.style.transitionDelay = `${index * 0.1}s`;
    cardObserver.observe(card);
});

// Parallax effect for background elements
const parallaxObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const rect = entry.boundingClientRect;
            const scrolled = window.pageYOffset;
            const parallax = scrolled * 0.5;
            
            entry.target.style.transform = `translateY(${parallax}px)`;
        }
    });
}, { threshold: 0 });

// Apply parallax to service section backgrounds
document.querySelectorAll('.services::before').forEach(el => {
    parallaxObserver.observe(el);
});

// Simple hover effects for service cards
document.querySelectorAll('.service__card').forEach(card => {
    card.addEventListener('mouseenter', () => {
        card.style.transform = 'translateY(-8px)';
        card.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.3)';
    });
    
    card.addEventListener('mouseleave', () => {
        card.style.transform = 'translateY(0)';
        card.style.boxShadow = '0 12px 40px rgba(0, 0, 0, 0.3)';
    });
});

// Simple button hover effects
document.querySelectorAll('.btn').forEach(button => {
    button.addEventListener('mouseenter', () => {
        button.style.transform = 'translateY(-2px)';
    });
    
    button.addEventListener('mouseleave', () => {
        button.style.transform = 'translateY(0)';
    });
});

// Pricing card hover effects
document.querySelectorAll('.pricing__card').forEach(card => {
    card.addEventListener('mouseenter', () => {
        card.style.transform = 'translateY(-8px) scale(1.02)';
        card.style.boxShadow = '0 20px 60px rgba(59, 130, 246, 0.2)';
    });
    
    card.addEventListener('mouseleave', () => {
        card.style.transform = 'translateY(0) scale(1)';
        card.style.boxShadow = '0 8px 32px rgba(31, 38, 135, 0.1)';
    });
});

// Simplified modal functionality (keeping existing)
const modalOverlay = document.getElementById('modal-overlay');
const factsButtons = document.querySelectorAll('.service__facts');
const modalCloseButtons = document.querySelectorAll('.modal__close');

// Note: Facts buttons are removed from new storytelling format but keeping modal code for backward compatibility

// Open modal
factsButtons.forEach(button => {
    button.addEventListener('click', () => {
        const modalId = button.getAttribute('data-modal');
        const modal = document.getElementById(modalId);
        
        if (modal) {
            // Hide all modals first
            document.querySelectorAll('.modal').forEach(m => {
                m.classList.remove('active');
            });
            
            // Show overlay and specific modal
            modalOverlay.classList.add('active');
            modal.classList.add('active');
            
            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }
    });
});

// Close modal
const closeModal = () => {
    modalOverlay.classList.remove('active');
    document.querySelectorAll('.modal').forEach(modal => {
        modal.classList.remove('active');
    });
    document.body.style.overflow = 'auto';
};

// Close modal on button click
modalCloseButtons.forEach(button => {
    button.addEventListener('click', closeModal);
});

// Close modal on overlay click
modalOverlay.addEventListener('click', (e) => {
    if (e.target === modalOverlay) {
        closeModal();
    }
});

// Close modal on Escape key
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeModal();
    }
});

// Simple engagement tracking
const trackCardViews = () => {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const cardTitle = entry.target.querySelector('.service__title')?.textContent || 'Service Card';
                console.log(`Viewed: ${cardTitle}`);
            }
        });
    }, { threshold: 0.5 });
    
    document.querySelectorAll('.service__card').forEach(card => {
        observer.observe(card);
    });
};

// Initialize engagement tracking
trackCardViews();

// SMOOTH EXPAND/COLLAPSE FUNCTIONALITY
const setupExpandCollapse = () => {
    const expandButtons = document.querySelectorAll('.read-more-btn');
    
    expandButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            
            const expandId = this.getAttribute('data-expand');
            const expandedContent = document.getElementById(`expanded-${expandId}`);
            const serviceCard = this.closest('.service__card');
            
            if (expandedContent) {
                expandContent(expandedContent, serviceCard, this);
            }
        });
        
        // Add ripple effect on click
        button.addEventListener('click', createRipple);
    });
};

const expandContent = (expandedSection, cardElement, button) => {
    const isExpanded = expandedSection.classList.contains('active');
    const btnText = button.querySelector('.btn-text');
    
    if (!isExpanded) {
        // Expand animation
        expandedSection.classList.add('active');
        button.classList.add('expanded');
        btnText.textContent = 'Show Less';
        
        // Add expanding class for card animation
        cardElement.classList.add('expanding');
        
        // Smooth scroll after animation starts
        setTimeout(() => {
            cardElement.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'nearest',
                inline: 'nearest'
            });
        }, 100);
        
        // Remove expanding class after animation
        setTimeout(() => {
            cardElement.classList.remove('expanding');
        }, 800);
        
    } else {
        // Collapse animation
        expandedSection.classList.remove('active');
        button.classList.remove('expanded');
        btnText.textContent = 'Read Full Story';
        
        // Smooth scroll to card top
        setTimeout(() => {
            cardElement.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start',
                inline: 'nearest'
            });
        }, 100);
    }
};

// RIPPLE EFFECT FOR BUTTONS
const createRipple = (event) => {
    const button = event.currentTarget;
    
    // Remove existing ripples
    const existingRipples = button.querySelectorAll('.ripple');
    existingRipples.forEach(ripple => ripple.remove());
    
    const ripple = document.createElement('span');
    const diameter = Math.max(button.clientWidth, button.clientHeight);
    const radius = diameter / 2;
    
    const rect = button.getBoundingClientRect();
    ripple.style.width = ripple.style.height = `${diameter}px`;
    ripple.style.left = `${event.clientX - rect.left - radius}px`;
    ripple.style.top = `${event.clientY - rect.top - radius}px`;
    ripple.classList.add('ripple');
    
    button.appendChild(ripple);
    
    // Remove ripple after animation
    setTimeout(() => {
        if (ripple.parentNode) {
            ripple.remove();
        }
    }, 600);
};

// ENHANCED SMOOTH SCROLLING FOR NAVIGATION
const setupSmoothNavigation = () => {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            const target = document.querySelector(targetId);
            
            if (target) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const targetPosition = target.offsetTop - headerHeight - 20;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
};

// INTERSECTION OBSERVER FOR FADE-IN ANIMATIONS
const setupFadeInAnimations = () => {
    const fadeElements = document.querySelectorAll('.service__card, .pricing__card, .highlight__item');
    
    const fadeInObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    entry.target.classList.add('fade-in');
                }, index * 100); // Stagger by 100ms
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    fadeElements.forEach(element => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
        fadeInObserver.observe(element);
    });
};

// ENHANCED CARD HOVER EFFECTS
const setupCardHoverEffects = () => {
    document.querySelectorAll('.service__card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-8px)';
            card.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.15)';
        });
        
        card.addEventListener('mouseleave', () => {
            // Don't reset if card is expanding
            if (!card.classList.contains('expanding')) {
                card.style.transform = 'translateY(0)';
                card.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
            }
        });
    });
};

// BUTTON HOVER EFFECTS WITH SMOOTH TRANSITIONS
const setupButtonHoverEffects = () => {
    document.querySelectorAll('.btn').forEach(button => {
        button.addEventListener('mouseenter', () => {
            button.style.transform = 'translateY(-2px)';
        });
        
        button.addEventListener('mouseleave', () => {
            button.style.transform = 'translateY(0)';
        });
        
        // Add focus effects for accessibility
        button.addEventListener('focus', () => {
            button.style.outline = '3px solid rgba(249, 115, 22, 0.4)';
            button.style.outlineOffset = '2px';
        });
        
        button.addEventListener('blur', () => {
            button.style.outline = 'none';
        });
    });
};

// PERFORMANCE OPTIMIZATION - DEBOUNCED SCROLL HANDLER
const debounce = (func, wait) => {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
};

// SMOOTH PARALLAX EFFECTS (LIGHTWEIGHT)
const setupParallaxEffects = () => {
    const parallaxElements = document.querySelectorAll('.expanded-content.active');
    
    const handleParallax = debounce(() => {
        const scrolled = window.pageYOffset;
        
        parallaxElements.forEach(element => {
            const rect = element.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom > 0) {
                const parallax = scrolled * 0.02; // Subtle parallax
                element.style.transform = `translateY(${parallax}px)`;
            }
        });
    }, 10);
    
    window.addEventListener('scroll', handleParallax, { passive: true });
};

// KEYBOARD NAVIGATION SUPPORT
const setupKeyboardNavigation = () => {
    document.addEventListener('keydown', (e) => {
        // Close expanded content with Escape key
        if (e.key === 'Escape') {
            const expandedContents = document.querySelectorAll('.expanded-content.active');
            expandedContents.forEach(content => {
                const button = content.closest('.service__card').querySelector('.read-more-btn');
                if (button) {
                    button.click();
                }
            });
        }
        
        // Navigate through cards with arrow keys
        if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
            const focusedElement = document.activeElement;
            const serviceCard = focusedElement.closest('.service__card');
            
            if (serviceCard) {
                const allCards = Array.from(document.querySelectorAll('.service__card'));
                const currentIndex = allCards.indexOf(serviceCard);
                let nextIndex;
                
                if (e.key === 'ArrowDown') {
                    nextIndex = (currentIndex + 1) % allCards.length;
                } else {
                    nextIndex = currentIndex === 0 ? allCards.length - 1 : currentIndex - 1;
                }
                
                const nextCard = allCards[nextIndex];
                const nextButton = nextCard.querySelector('.read-more-btn');
                if (nextButton) {
                    nextButton.focus();
                    e.preventDefault();
                }
            }
        }
    });
    
    // Add keyboard support for buttons
    document.querySelectorAll('.read-more-btn').forEach(button => {
        button.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                button.click();
            }
        });
    });
};

// INITIALIZE ALL SMOOTH ANIMATIONS
const initializeSmoothAnimations = () => {
    setupExpandCollapse();
    setupSmoothNavigation();
    setupFadeInAnimations();
    setupCardHoverEffects();
    setupButtonHoverEffects();
    setupParallaxEffects();
    setupKeyboardNavigation();
    
    console.log('✨ Smooth animations initialized successfully!');
};

// MULTILINGUAL FUNCTIONALITY
const setupLanguageSwitcher = () => {
    const languageBtn = document.getElementById('language-btn');
    const languageDropdown = document.getElementById('language-dropdown');
    const languageOptions = document.querySelectorAll('.language-option');
    
    if (!languageBtn || !languageDropdown) {
        console.warn('Language switcher elements not found');
        return;
    }
    
    // Toggle dropdown
    languageBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        const isOpen = languageDropdown.classList.contains('active');
        languageDropdown.classList.toggle('active');
        languageBtn.setAttribute('aria-expanded', !isOpen);
        
        if (!isOpen) {
            // Focus first option when opened
            const firstOption = languageDropdown.querySelector('.language-option');
            if (firstOption) {
                setTimeout(() => firstOption.focus(), 100);
            }
        }
    });
    
    // Handle language selection
    languageOptions.forEach(option => {
        option.addEventListener('click', (e) => {
            e.preventDefault();
            const selectedLang = option.getAttribute('data-lang');
            switchLanguage(selectedLang);
            
            languageDropdown.classList.remove('active');
            languageBtn.setAttribute('aria-expanded', 'false');
        });
        
        // Keyboard navigation
        option.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                option.click();
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                const next = option.nextElementSibling;
                if (next) next.focus();
                else languageOptions[0].focus();
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                const prev = option.previousElementSibling;
                if (prev) prev.focus();
                else languageOptions[languageOptions.length - 1].focus();
            }
        });
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
            languageDropdown.classList.remove('active');
            languageBtn.setAttribute('aria-expanded', 'false');
        }
    });
    
    // Close dropdown with Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && languageDropdown.classList.contains('active')) {
            languageDropdown.classList.remove('active');
            languageBtn.setAttribute('aria-expanded', 'false');
            languageBtn.focus();
        }
    });
    
    // Mark current language as active
    updateLanguageOptions();
};

const switchLanguage = (langCode) => {
    if (!translations[langCode]) {
        console.warn(`Translation for language '${langCode}' not found`);
        return;
    }
    
    currentLanguage = langCode;
    
    // Add animation class
    document.body.classList.add('language-switching');
    
    // Update HTML lang attribute
    document.documentElement.setAttribute('lang', langCode);
    
    // Update body data-lang attribute for CSS styling
    document.body.setAttribute('data-lang', langCode);
    
    // Update all translatable elements
    updateAllTranslations(langCode);
    
    // Update language button text
    updateLanguageButton(langCode);
    
    // Update active language option
    updateLanguageOptions();
    
    // Store preference in memory only (sandboxed environment)
    // Language preference will reset on page reload
    console.log(`Language preference set to: ${langCode}`);
    
    // Remove animation class after animation completes
    setTimeout(() => {
        document.body.classList.remove('language-switching');
    }, 400);
    
    console.log(`Language switched to: ${langCode}`);
};

const updateAllTranslations = (langCode) => {
    const translations_data = translations[langCode];
    if (!translations_data) return;
    
    // Update elements with data-i18n attributes
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getNestedTranslation(translations_data, key);
        
        if (translation) {
            element.textContent = translation;
        }
    });
    
    // Update placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        const translation = getNestedTranslation(translations_data, key);
        
        if (translation) {
            element.setAttribute('placeholder', translation);
        }
    });
    
    // Update aria-labels
    document.querySelectorAll('[data-i18n-aria]').forEach(element => {
        const key = element.getAttribute('data-i18n-aria');
        const translation = getNestedTranslation(translations_data, key);
        
        if (translation) {
            element.setAttribute('aria-label', translation);
        }
    });
};

const getNestedTranslation = (obj, path) => {
    return path.split('.').reduce((current, key) => {
        return current && current[key] !== undefined ? current[key] : null;
    }, obj);
};

const updateLanguageButton = (langCode) => {
    const languageText = document.querySelector('.language-text');
    if (languageText) {
        const langMap = {
            'en': 'EN',
            'mr': 'मर',
            'hi': 'हि'
        };
        languageText.textContent = langMap[langCode] || 'EN';
    }
};

const updateLanguageOptions = () => {
    document.querySelectorAll('.language-option').forEach(option => {
        const lang = option.getAttribute('data-lang');
        option.classList.toggle('active', lang === currentLanguage);
    });
};

const initializeLanguage = () => {
    // Initialize with default language (English)
    // In a sandboxed environment, we start fresh each time
    const defaultLang = 'en';
    
    // Initialize with default language
    switchLanguage(defaultLang);
    
    console.log(`Initialized with default language: ${defaultLang}`);
};

// Enhanced contact form with multilingual support
const enhanceContactFormMultilingual = () => {
    const contactForm = document.getElementById('contact-form');
    if (!contactForm) return;
    
    // Override the original contact form handler
    contactForm.removeEventListener('submit', contactForm.onsubmit);
    
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const formData = new FormData(contactForm);
        const name = formData.get('name').trim();
        const email = formData.get('email').trim();
        const phone = formData.get('phone').trim();
        const service = formData.get('service');
        const message = formData.get('message').trim();
        
        // Basic form validation
        if (!name || !email || !phone) {
            const alertMsg = currentLanguage === 'mr' ? 
                'कृपया सर्व आवश्यक फील्ड भरा (नाव, ईमेल, फोन).' :
                currentLanguage === 'hi' ? 
                'कृपया सभी आवश्यक फील्ड भरें (नाम, ईमेल, फोन)।' :
                'Please fill in all required fields (Name, Email, Phone).';
            alert(alertMsg);
            return;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            const alertMsg = currentLanguage === 'mr' ? 
                'कृपया वैध ईमेल पत्ता प्रविष्ट करा.' :
                currentLanguage === 'hi' ? 
                'कृपया एक वैध ईमेल पता दर्ज करें।' :
                'Please enter a valid email address.';
            alert(alertMsg);
            return;
        }
        
        // Success message in current language
        const thankYouMsg = translations[currentLanguage]?.contact?.thank_you || 'Thank you for reaching out!';
        const successMsg = currentLanguage === 'mr' ? 
            `धन्यवाद ${name}! आम्हाला ${service || 'आमच्या सेवा'}बद्दल तुमची चौकशी मिळाली आहे. सर्वात जलद प्रतिसादासाठी कृपया आमच्याशी थेट +91 9892070544 किंवा anujtheofficial@gmail.com वर संपर्क साधा.` :
            currentLanguage === 'hi' ? 
            `धन्यवाद ${name}! हमें ${service || 'हमारी सेवाओं'} के बारे में आपकी पूछताछ मिल गई है। सबसे तेज़ प्रतिक्रिया के लिए कृपया हमसे सीधे +91 9892070544 या anujtheofficial@gmail.com पर संपर्क करें।` :
            `Thank you ${name}! We have received your inquiry about ${service || 'our services'}. Please contact us directly at +91 9892070544 or anujtheofficial@gmail.com for the fastest response.`;
        
        alert(successMsg);
        
        // Reset form
        contactForm.reset();
    });
};

// Initialize multilingual functionality
const initializeMultilingual = () => {
    setupLanguageSwitcher();
    initializeLanguage();
    enhanceContactFormMultilingual();
    
    console.log('✨ Multilingual functionality initialized!');
    console.log('🌐 Supported languages: English, मराठी, हिन्दी');
};

// Initialize smooth animations
initializeSmoothAnimations();

// Initialize multilingual support
initializeMultilingual();

// PERFORMANCE MONITORING
const monitorPerformance = () => {
    if ('performance' in window) {
        window.addEventListener('load', () => {
            const loadTime = performance.now();
            if (loadTime > 3000) {
                console.warn('⚠️ Page load time is high. Consider optimizing animations.');
            } else {
                console.log(`✅ Page loaded in ${Math.round(loadTime)}ms with smooth animations ready!`);
            }
        });
    }
};

// Initialize performance monitoring
monitorPerformance();

// FINAL INITIALIZATION MESSAGE
console.log('🚀 Campaign Tech Pro - Multilingual smooth animations and enhanced UX ready!');
console.log('📱 Mobile responsive | ⌨️ Keyboard accessible | 🎨 Smooth animations');
console.log('🌐 Multilingual: English | मराठी | हिन्दी');
console.log('📞 Contact: +91 9892070544 | 📧 anujtheofficial@gmail.com');
console.log('♿ Accessible design with screen reader support for all languages');

// Initialize smooth animations
initializeSmoothAnimations();

// ENHANCED CONTACT FORM HANDLING
const enhanceContactForm = () => {
    const contactForm = document.getElementById('contact-form');
    if (!contactForm) return;
    
    // Real-time validation feedback
    const inputs = contactForm.querySelectorAll('.form__input');
    inputs.forEach(input => {
        input.addEventListener('blur', () => {
            validateField(input);
        });
        
        input.addEventListener('input', () => {
            clearFieldError(input);
        });
    });
    
    // Enhanced form submission
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        if (validateForm(contactForm)) {
            submitFormWithAnimation(contactForm);
        }
    });
};

const validateField = (field) => {
    const value = field.value.trim();
    const fieldName = field.name;
    let isValid = true;
    let errorMessage = '';
    
    switch (fieldName) {
        case 'name':
            if (!value || value.length < 2) {
                isValid = false;
                errorMessage = 'Name must be at least 2 characters long';
            }
            break;
        case 'email':
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!value || !emailRegex.test(value)) {
                isValid = false;
                errorMessage = 'Please enter a valid email address';
            }
            break;
        case 'phone':
            const phoneRegex = /^[\d\s\-\+\(\)]{10,}$/;
            if (!value || !phoneRegex.test(value)) {
                isValid = false;
                errorMessage = 'Please enter a valid phone number';
            }
            break;
    }
    
    if (!isValid) {
        showFieldError(field, errorMessage);
    } else {
        clearFieldError(field);
    }
    
    return isValid;
};

const showFieldError = (field, message) => {
    clearFieldError(field);
    
    field.style.borderColor = '#ef4444';
    field.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
    
    const errorDiv = document.createElement('div');
    errorDiv.className = 'field-error';
    errorDiv.textContent = message;
    errorDiv.style.cssText = `
        color: #ef4444;
        font-size: 14px;
        margin-top: 0.25rem;
        opacity: 0;
        transition: opacity 0.3s ease;
    `;
    
    field.parentNode.appendChild(errorDiv);
    setTimeout(() => errorDiv.style.opacity = '1', 10);
};

const clearFieldError = (field) => {
    field.style.borderColor = '';
    field.style.boxShadow = '';
    
    const existingError = field.parentNode.querySelector('.field-error');
    if (existingError) {
        existingError.style.opacity = '0';
        setTimeout(() => existingError.remove(), 300);
    }
};

const validateForm = (form) => {
    const requiredFields = form.querySelectorAll('[required]');
    let isValid = true;
    
    requiredFields.forEach(field => {
        if (!validateField(field)) {
            isValid = false;
        }
    });
    
    return isValid;
};

const submitFormWithAnimation = (form) => {
    const submitButton = form.querySelector('button[type="submit"]');
    const originalText = submitButton.textContent;
    
    // Button animation during submission
    submitButton.textContent = 'Sending...';
    submitButton.style.background = '#10b981';
    submitButton.disabled = true;
    
    // Create loading ripple effect
    const loadingRipple = document.createElement('div');
    loadingRipple.style.cssText = `
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 20px;
        height: 20px;
        border: 2px solid transparent;
        border-top: 2px solid #ffffff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    `;
    
    const style = document.createElement('style');
    style.textContent = `
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    `;
    document.head.appendChild(style);
    
    submitButton.style.position = 'relative';
    submitButton.appendChild(loadingRipple);
    
    // Simulate form submission (replace with actual submission logic)
    setTimeout(() => {
        // Success animation
        submitButton.textContent = '✓ Sent Successfully!';
        submitButton.style.background = '#10b981';
        loadingRipple.remove();
        style.remove();
        
        // Show success message with animation
        showSuccessMessage(form);
        
        // Reset form after delay
        setTimeout(() => {
            form.reset();
            submitButton.textContent = originalText;
            submitButton.style.background = '';
            submitButton.disabled = false;
        }, 3000);
        
    }, 2000);
};

const showSuccessMessage = (form) => {
    const formData = new FormData(form);
    const name = formData.get('name');
    const service = formData.get('service');
    
    const successMessage = document.createElement('div');
    successMessage.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.8);
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        padding: 2rem;
        border-radius: 12px;
        text-align: center;
        z-index: 3000;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        opacity: 0;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    `;
    
    successMessage.innerHTML = `
        <div style="font-size: 3rem; margin-bottom: 1rem;">🎉</div>
        <h3 style="margin-bottom: 1rem; font-size: 1.5rem;">Thank You ${name}!</h3>
        <p style="margin-bottom: 1.5rem; opacity: 0.9;">We've received your inquiry${service ? ` about ${service}` : ''}.</p>
        <p style="font-size: 14px; opacity: 0.8;">Contact us directly at<br/><strong>+91 9892070544</strong> or <strong>anujtheofficial@gmail.com</strong><br/>for the fastest response.</p>
    `;
    
    document.body.appendChild(successMessage);
    
    // Animate in
    setTimeout(() => {
        successMessage.style.opacity = '1';
        successMessage.style.transform = 'translate(-50%, -50%) scale(1)';
    }, 100);
    
    // Animate out
    setTimeout(() => {
        successMessage.style.opacity = '0';
        successMessage.style.transform = 'translate(-50%, -50%) scale(0.8)';
        setTimeout(() => successMessage.remove(), 500);
    }, 4000);
};

// Initialize any additional functionality when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    console.log('Campaign Tech Pro storytelling experience loaded!');
    
    // Set current year in footer if needed
    const currentYear = new Date().getFullYear();
    const copyrightText = document.querySelector('.footer__copyright');
    if (copyrightText && !copyrightText.textContent.includes(currentYear)) {
        copyrightText.textContent = copyrightText.textContent.replace('2025', currentYear);
    }
    
    // Enhanced contact form
    enhanceContactForm();
    
    // Progressive enhancement for storytelling
    const expandButtons = document.querySelectorAll('.read-more-btn');
    if (expandButtons.length > 0) {
        console.log(`✨ Initialized ${expandButtons.length} smooth expand/collapse experiences`);
    }
    
    // Add loading animations for page elements
    const animatedElements = document.querySelectorAll('.service__card, .pricing__card, .highlight__item');
    animatedElements.forEach((element, index) => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'all 0.8s cubic-bezier(0.23, 1, 0.320, 1)';
        element.style.animationDelay = `${index * 0.1}s`;
        element.classList.add('fade-in-element');
    });
    
    // Intersection observer for staggered animations
    const staggerObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    entry.target.classList.add('animated');
                }, index * 100);
            }
        });
    }, { 
        threshold: 0.1,
        rootMargin: '0px 0px -20px 0px'
    });
    
    animatedElements.forEach(element => {
        staggerObserver.observe(element);
    });
});

// Add click-to-call and email functionality with smooth feedback
document.querySelectorAll('a[href^="tel:"], a[href^="mailto:"]').forEach(link => {
    link.addEventListener('click', (e) => {
        // Add visual feedback
        link.style.transform = 'scale(0.95)';
        link.style.transition = 'transform 0.1s ease';
        
        setTimeout(() => {
            link.style.transform = 'scale(1)';
        }, 100);
        
        console.log(`Contact initiated: ${link.href}`);
    });
    
    // Add hover effects for contact links
    link.addEventListener('mouseenter', () => {
        link.style.transform = 'translateY(-1px)';
        link.style.transition = 'all 0.2s ease';
    });
    
    link.addEventListener('mouseleave', () => {
        link.style.transform = 'translateY(0)';
    });
});

// ACCESSIBILITY ENHANCEMENTS
const enhanceAccessibility = () => {
    // Add aria-labels to interactive elements
    document.querySelectorAll('.read-more-btn').forEach((button, index) => {
        const cardTitle = button.closest('.service__card').querySelector('.service__title').textContent;
        button.setAttribute('aria-label', `Read full story about ${cardTitle}`);
        button.setAttribute('aria-expanded', 'false');
    });
    
    // Update aria-expanded when content expands
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.target.classList.contains('expanded-content')) {
                const isExpanded = mutation.target.classList.contains('active');
                const button = mutation.target.closest('.service__card').querySelector('.read-more-btn');
                if (button) {
                    button.setAttribute('aria-expanded', isExpanded.toString());
                }
            }
        });
    });
    
    document.querySelectorAll('.expanded-content').forEach(content => {
        observer.observe(content, { attributes: true, attributeFilter: ['class'] });
    });
};

// Initialize accessibility enhancements
enhanceAccessibility();

// Enhanced keyboard navigation for storytelling and smooth animations
document.addEventListener('keydown', (e) => {
    // Close mobile menu with Escape key
    if (e.key === 'Escape' && navMenu.classList.contains('active')) {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
    }
    
    // Close expanded content with Escape key
    if (e.key === 'Escape') {
        const expandedContents = document.querySelectorAll('.expanded-content.active');
        expandedContents.forEach(content => {
            const serviceCard = content.closest('.service__card');
            const button = serviceCard.querySelector('.read-more-btn');
            if (button && button.classList.contains('expanded')) {
                button.click();
            }
        });
    }
    
    // Navigate between service cards with arrow keys
    if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
        const focusedElement = document.activeElement;
        const currentCard = focusedElement.closest('.service__card');
        
        if (currentCard) {
            const allCards = Array.from(document.querySelectorAll('.service__card'));
            const currentIndex = allCards.indexOf(currentCard);
            let nextIndex;
            
            if (e.key === 'ArrowDown') {
                nextIndex = (currentIndex + 1) % allCards.length;
            } else {
                nextIndex = currentIndex === 0 ? allCards.length - 1 : currentIndex - 1;
            }
            
            const nextCard = allCards[nextIndex];
            const nextButton = nextCard.querySelector('.read-more-btn');
            if (nextButton) {
                nextButton.focus();
                nextCard.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center'
                });
                e.preventDefault();
            }
        }
    }
});

// Enhanced button keyboard navigation
document.querySelectorAll('.btn, .read-more-btn, [data-contact]').forEach(button => {
    button.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            button.click();
        }
    });
    
    // Enhanced focus indicators
    button.addEventListener('focus', () => {
        button.style.outline = '3px solid rgba(249, 115, 22, 0.6)';
        button.style.outlineOffset = '2px';
        button.style.transform = 'translateY(-1px)';
        button.style.boxShadow = '0 6px 20px rgba(249, 115, 22, 0.3)';
    });
    
    button.addEventListener('blur', () => {
        button.style.outline = 'none';
        if (!button.matches(':hover')) {
            button.style.transform = '';
            button.style.boxShadow = '';
        }
    });
});